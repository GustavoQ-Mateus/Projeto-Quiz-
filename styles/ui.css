/* =====================
  Variables / Theme
===================== */
:root {
  --color-bg: #14131a;
  --color-surface: #1e1d25;
  --color-surface-alt: #262531;
  --color-border: #2f2e39;
  --color-accent: #6c4ae7; /* Tom roxo padronizado */
  --color-accent-hover: #7a59f0; /* Leve clareamento para hover */
  --color-text: #f5f5f7;
  --color-text-dim: #c6c6cf;
  --color-ok: #37b26c;
  --color-fail: #d65b5b;
  --raio: 6px;
  --font-stack: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Fira Sans', 'Droid Sans', 'Helvetica Neue', Arial, sans-serif;
  --esp-1: 4px;
  --esp-2: 8px;
  --esp-3: 12px;
  --esp-4: 16px;
  --esp-5: 24px;
  --esp-6: 32px;
  --trans-fast: 120ms;
}

* { box-sizing: border-box; }
html,body { height:100%; }
body.app { margin:0; font-family: var(--font-stack); background:#14131a; color: var(--color-text); -webkit-font-smoothing: antialiased; position:relative; }
body.app::before { content:none; }
body.app[data-state="inicio"] .area-inicio { display:block; }
body.app[data-state="inicio"] .status-inline { display:none; }
body.app[data-state="jogo"] .area-jogo { display:flex; }
body.app[data-state="jogo"] .status-inline { display:flex; }
body.app[data-state="final"] .area-final { display:block; }
body.app[data-state="final"] .status-inline { display:flex; }

/* =====================
  Topbar
===================== */
.topbar { position:sticky; top:0; z-index:20; display:flex; align-items:center; justify-content:space-between; gap:var(--esp-4); padding: var(--esp-3) var(--esp-5) var(--esp-3); background: var(--color-bg); border-bottom:1px solid var(--color-border); overflow:visible; }
.topbar::after { content:''; position:absolute; left:0; right:0; bottom:-4px; height:80px; pointer-events:none; background: radial-gradient(ellipse at top, rgba(108,74,231,0.4), rgba(108,74,231,0) 70%); filter: blur(26px); opacity:.5; }
.app-title { margin:0; font-size:1.5rem; font-weight:600; letter-spacing:.5px; color: var(--color-accent); }
.status-inline { display:flex; flex-wrap:wrap; gap:var(--esp-3); font-size:.7rem; color: var(--color-text-dim); }

/* =====================
  Main Layout
===================== */
.app-main { width:100%; max-width:1000px; margin:0 auto; padding: var(--esp-4) var(--esp-5) var(--esp-6); display:flex; flex-direction:column; gap:var(--esp-6); }
.area { background: transparent; border:none; border-radius:0; padding:0; display:none; }
.area-jogo { flex-direction:column; }
.layout { display:flex; flex-direction:column; gap:var(--esp-6); }
.col-main { display:flex; flex-direction:column; gap:var(--esp-4); }
.col-side { display:flex; flex-direction:column; gap:var(--esp-4); }

@media (min-width: 768px){
  .layout { flex-direction:row; align-items:flex-start; }
  .col-main { flex:1; }
  .col-side { width:300px; flex-shrink:0; }
}

/* Mobile refinements */
@media (max-width: 479px){
  .topbar { flex-direction:column; align-items:flex-start; gap:var(--esp-3); padding: var(--esp-4) var(--esp-4) var(--esp-3); }
  .topbar::after { height:70px; filter: blur(22px); opacity:.45; }
  .status-inline { font-size:.65rem; gap:var(--esp-2); }
  .app-title { font-size:1.3rem; }
  .form { gap:var(--esp-3); }
  .form-row { padding-bottom: var(--esp-3); }
  .question-text { font-size:1rem; line-height:1.4; }
  .answers { gap:var(--esp-2); }
  .btn { min-width:100%; padding: var(--esp-3) var(--esp-4); }
  .timer-bar { height:5px; }
}

/* Mid-range tablets: reduce side column width */
@media (min-width: 600px) and (max-width: 899px){
  .col-side { width:240px; }
  .question-text { font-size:1.06rem; }
  .answers .answer-btn { font-size:.82rem; }
}

/* If height constrained, stack side below main */
@media (max-height: 640px){
  .layout { flex-direction:column !important; }
  .col-side { width:100%; }
}

/* Large desktop */
@media (min-width: 1200px){
  .app-main { max-width:1200px; }
  .col-side { width:340px; }
  .question-text { font-size:1.15rem; }
  .answers .answer-btn { font-size:.9rem; }
}

/* Prevent overly long lines */
.question-text, #textoResumo { max-width:70ch; }

/* =====================
  Typography / Headings
===================== */
.screen-title { margin:0 0 var(--esp-3); font-size:1.15rem; font-weight:500; }
.block-title { margin:0 0 var(--esp-3); font-size:1rem; font-weight:500; }
.block-subtitle { margin:0 0 var(--esp-2); font-size:.85rem; font-weight:500; }
.visually-hidden { position:absolute !important; height:1px; width:1px; overflow:hidden; clip:rect(1px,1px,1px,1px); white-space:nowrap; }

/* =====================
  Forms
===================== */
.form { display:flex; flex-direction:column; gap:var(--esp-4); }
.form-row { display:flex; flex-direction:column; gap:var(--esp-2); position:relative; padding-bottom: var(--esp-4); }
.form-row:not(:last-child)::after { content:''; position:absolute; left:0; right:0; bottom:0; height:1px; background: linear-gradient(90deg, rgba(108,74,231,0.65), rgba(108,74,231,0.25)); box-shadow:0 0 12px 2px rgba(108,74,231,0.45), 0 0 24px 8px rgba(108,74,231,0.18); opacity:.9; }
.form-label { font-size:.8rem; font-weight:500; color: var(--color-text-dim); }
.input,.select { background: var(--color-surface-alt); border:1px solid var(--color-border); padding: var(--esp-3) var(--esp-4); border-radius: var(--raio); color: var(--color-text); font-size:.9rem; }
.input:focus,.select:focus { outline:2px solid var(--color-accent); outline-offset:2px; }
.form-actions { display:flex; gap:var(--esp-4); }

/* =====================
  Buttons
===================== */
.btn { appearance:none; border:1px solid var(--color-border); background: var(--color-surface-alt); color: var(--color-text); padding: var(--esp-3) var(--esp-5); font-size:.85rem; border-radius: var(--raio); cursor:pointer; transition:background var(--trans-fast), border-color var(--trans-fast); min-width:140px; }
.btn:hover { background: var(--color-surface); }
.btn:focus-visible { outline:2px solid var(--color-accent); outline-offset:2px; }
.btn.btn--primario { background: var(--color-accent); border-color: var(--color-accent); color:#fff; }
.btn.btn--primario:hover { background: var(--color-accent-hover); border-color: var(--color-accent-hover); }
.btn.btn--fantasma { background: transparent; border-color: var(--color-border); }
.btn.btn--fantasma:hover { background: var(--color-surface-alt); }

/* =====================
  Question / Answers / Timer
===================== */
.question-text { font-size:1.05rem; font-weight:500; line-height:1.5; }
.answers { display:flex; flex-direction:column; gap:var(--esp-2); margin:0; padding:0; list-style:none; }
.answers li { margin:0; padding:0; }
.answers .answer-btn { text-align:left; width:100%; }
.answer-btn--certa { background:#6a994e !important; border-color:#6a994e !important; color:#fff !important; box-shadow:0 0 6px 2px rgba(106,153,78,0.35); }
.answer-btn--certa:hover { background:#6a994e !important; }
.answer-btn--errada { background:#c1121f !important; border-color:#c1121f !important; color:#fff !important; box-shadow:0 0 6px 2px rgba(193,18,31,0.35); }
.answer-btn--errada:hover { background:#c1121f !important; }
.timer-block { display:flex; flex-direction:column; gap:var(--esp-2); }
.timer-text { font-size:.7rem; color: var(--color-text-dim); min-height:1em; }
.timer-bar { width:100%; height:6px; background: var(--color-border); border-radius: var(--raio); overflow:hidden; }
.timer-bar-fill { height:100%; width:0%; background: var(--color-accent); transition: width 0.12s linear; }
.explanation { font-size:.75rem; color: var(--color-text-dim); border-top:1px solid var(--color-border); padding-top:var(--esp-2); min-height:1.4em; }

/* =====================
  Ranking / Summary / Details
===================== */
.ranking-block { display:flex; flex-direction:column; gap:var(--esp-2); }
.ranking-list { list-style:decimal; margin:0; padding-left: var(--esp-5); display:flex; flex-direction:column; gap:0; font-size:.75rem; }
.ranking-list li { position:relative; padding: var(--esp-2) 0 var(--esp-3); }
.ranking-list li:not(:last-child)::after { content:''; position:absolute; left:0; right:0; bottom:0; height:1px; background: linear-gradient(90deg, rgba(108,74,231,0.6), rgba(108,74,231,0.2)); box-shadow:0 0 10px 2px rgba(108,74,231,0.40), 0 0 22px 8px rgba(108,74,231,0.18); opacity:.8; }
.summary { font-size:.85rem; line-height:1.4; }
.summary-actions { display:flex; gap:var(--esp-4); }
.details { margin-top:var(--esp-4); padding:0; display:flex; flex-direction:column; gap:0; background:transparent; border:none; }
.details-list { font-size:.7rem; display:flex; flex-direction:column; gap:0; }
.item-hist { line-height:1.3; padding: var(--esp-3) var(--esp-2) var(--esp-4); display:flex; flex-direction:column; gap:var(--esp-1); position:relative; background:transparent; border:none; border-radius:0; }
.item-hist + .item-hist { margin-top: var(--esp-2); }
.item-hist:not(:last-child)::after { content:''; position:absolute; left:0; right:0; bottom:0; height:1px; background: linear-gradient(90deg, rgba(108,74,231,0.6), rgba(108,74,231,0.2)); box-shadow:0 0 10px 2px rgba(108,74,231,0.40), 0 0 24px 10px rgba(108,74,231,0.18); opacity:.8; }
.badge { display:inline-block; padding:0 var(--esp-2); font-size:.55rem; line-height:1.4; border-radius: var(--raio); background: var(--color-surface-alt); letter-spacing:.5px; }
.badge--ok { background: var(--color-ok); color:#fff; }
.badge--fail { background: var(--color-fail); color:#fff; }

/* =====================
  Utilities
===================== */
.is-hidden { display:none !important; }

@media (min-width: 768px){
  .question-text { font-size:1.1rem; }
  .summary { font-size:.9rem; }
}

@media (min-width: 1024px){
  .app-main { max-width:1080px; }
}
